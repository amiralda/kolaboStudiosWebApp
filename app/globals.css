@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Base tokens
   ========================= */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 174 100% 39%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 174 100% 39%;
    --radius: 0.5rem;
    --teal: #00C6AE;

    /* Motion tokens for FAB/dialog */
    --fab-dur-in: .45s;
    --fab-dur-pop: .32s;
    --fab-dur-label: .22s;
    --fab-ease: cubic-bezier(.22,.92,.22,1);
    --fab-ease-pop: cubic-bezier(.2,1,.22,1);
    --fab-ease-label: cubic-bezier(.25,.9,.3,1);
  }

  * { @apply border-border; }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-inter), sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-sora), sans-serif;
  }
}

/* =========================
   Keyframes (single source of truth)
   ========================= */

/* FAB entrance */
@keyframes fabFadeIn {
  from { opacity: 0; transform: translateY(10px) scale(.97); filter: blur(1px); }
  to   { opacity: 1; transform: translateY(0)   scale(1);   filter: blur(0); }
}

/* FAB pop/overshoot */
@keyframes fabPop {
  0%   { transform: scale(.6); }
  60%  { transform: scale(1.08); }
  100% { transform: scale(1); }
}

/* Teal halo pulse */
@keyframes fabHalo {
  0%   { box-shadow: 0 0 0 0 rgba(0,198,174,0); }
  40%  { box-shadow: 0 0 0 12px rgba(0,198,174,0.18); }
  100% { box-shadow: 0 0 0 0 rgba(0,198,174,0); }
}

/* Label slide-in */
@keyframes labelSlide {
  from { opacity: 0; transform: translate(8px, -50%); }
  to   { opacity: 1; transform: translate(0,   -50%); }
}

/* Diagonal shimmer (optional accent) */
@keyframes fabShimmer {
  0%   { transform: translateX(-120%); opacity: 0; }
  15%  { opacity: .7; }
  60%  { transform: translateX(120%);  opacity: 0; }
  100% { opacity: 0; }
}

/* Dialog pop-in */
@keyframes dialogIn {
  from { opacity: 0; transform: translateY(4px) scale(.98); }
  to   { opacity: 1; transform: translateY(0)  scale(1); }
}

/* =========================
   Utilities
   ========================= */
@layer utilities {
  .animate-fabFadeIn { animation: fabFadeIn var(--fab-dur-in) var(--fab-ease) both; }
  .fab-pop           { animation: fabPop var(--fab-dur-pop) var(--fab-ease-pop) both; }
  .animate-fabHalo   { animation: fabHalo 2.8s ease-out infinite; }
  .animate-labelSlide{ animation: labelSlide var(--fab-dur-label) var(--fab-ease-label) both; }
  .animate-fabShimmer{ animation: fabShimmer 3.5s ease-out infinite; }

  /* Dialog animation helper used by the contact dialog */
  .dialog-animate-in { animation: dialogIn .22s ease-out both; }

  /* Subtle soft shadow for floating items */
  .fab-shadow-soft   { box-shadow: 0 10px 24px rgba(0,0,0,.14); }

  /* Mobile tap polish */
  .tap-smooth {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
}

/* =========================
   Motion preferences
   ========================= */
@media (prefers-reduced-motion: reduce) {
  .animate-fabFadeIn,
  .fab-pop,
  .animate-fabHalo,
  .animate-labelSlide,
  .animate-fabShimmer,
  .dialog-animate-in {
    animation: none !important;
  }
}

/* =========================
   Small-phone tweaks
   ========================= */
@media (max-width: 390px) {
  /* Slightly smaller chips/labels so they never feel edge-crowded */
  .animate-labelSlide {
    font-size: 11px !important;
    padding: .3rem .55rem !important;
  }
}
