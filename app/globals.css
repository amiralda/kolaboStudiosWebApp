@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Base tokens
   ========================= */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 174 100% 39%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 174 100% 39%;
    --radius: 0.5rem;
    --teal: #00C6AE;

    /* Motion tokens for FAB/dialog */
    --fab-dur-in: .45s;
    --fab-dur-pop: .32s;
    --fab-dur-label: .22s;
    --fab-ease: cubic-bezier(.22,.92,.22,1);
    --fab-ease-pop: cubic-bezier(.2,1,.22,1);
    --fab-ease-label: cubic-bezier(.25,.9,.3,1);
  }

  * { @apply border-border; }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-inter), sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-sora), sans-serif;
  }
}

/* =========================
   Keyframes (single source of truth)
   ========================= */

/* FAB entrance */
@keyframes fabFadeIn {
  from { opacity: 0; transform: translateY(10px) scale(.97); filter: blur(1px); }
  to   { opacity: 1; transform: translateY(0)   scale(1);   filter: blur(0); }
}

/* FAB pop/overshoot */
@keyframes fabPop {
  0%   { transform: scale(.6); }
  60%  { transform: scale(1.08); }
  100% { transform: scale(1); }
}

/* Teal halo pulse */
@keyframes fabHalo {
  0%   { box-shadow: 0 0 0 0 rgba(0,198,174,0); }
  40%  { box-shadow: 0 0 0 12px rgba(0,198,174,0.18); }
  100% { box-shadow: 0 0 0 0 rgba(0,198,174,0); }
}

/* Label slide-in */
@keyframes labelSlide {
  from { opacity: 0; transform: translate(8px, -50%); }
  to   { opacity: 1; transform: translate(0,   -50%); }
}

/* Diagonal shimmer (optional accent) */
@keyframes fabShimmer {
  0%   { transform: translateX(-120%); opacity: 0; }
  15%  { opacity: .7; }
  60%  { transform: translateX(120%);  opacity: 0; }
  100% { opacity: 0; }
}

/* Dialog pop-in */
@keyframes dialogIn {
  from { opacity: 0; transform: translateY(4px) scale(.98); }
  to   { opacity: 1; transform: translateY(0)  scale(1); }
}

/* =========================
   Utilities
   ========================= */
@layer utilities {
  .animate-fabFadeIn { animation: fabFadeIn var(--fab-dur-in) var(--fab-ease) both; }
  .fab-pop           { animation: fabPop var(--fab-dur-pop) var(--fab-ease-pop) both; }
  .animate-fabHalo   { animation: fabHalo 2.8s ease-out infinite; }
  .animate-labelSlide{ animation: labelSlide var(--fab-dur-label) var(--fab-ease-label) both; }
  .animate-fabShimmer{ animation: fabShimmer 3.5s ease-out infinite; }

  /* Dialog animation helper used by the contact dialog */
  .dialog-animate-in { animation: dialogIn .22s ease-out both; }

  /* Subtle soft shadow for floating items */
  .fab-shadow-soft   { box-shadow: 0 10px 24px rgba(0,0,0,.14); }

  /* Mobile tap polish */
  .tap-smooth {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
}

/* =========================
   Motion preferences
   ========================= */
@media (prefers-reduced-motion: reduce) {
  .animate-fabFadeIn,
  .fab-pop,
  .animate-fabHalo,
  .animate-labelSlide,
  .animate-fabShimmer,
  .dialog-animate-in {
    animation: none !important;
  }
}

/* =========================
   Small-phone tweaks
   ========================= */
@media (max-width: 390px) {
  /* Slightly smaller chips/labels so they never feel edge-crowded */
  .animate-labelSlide {
    font-size: 11px !important;
    padding: .3rem .55rem !important;
  }
}

/* Modal container fix */
.modal-container {
  background-color: rgba(255, 255, 255, 0.95); /* more solid background */
  backdrop-filter: blur(8px); /* smooth blur for elegance */
  border-radius: 0.75rem; /* slightly larger radius */
  padding: 1.5rem;
  box-shadow: 0 8px 30px rgba(0,0,0,0.15);
}

/* Overlay behind modal */
.modal-overlay {
  background-color: rgba(0, 0, 0, 0.55); /* darker overlay for contrast */
}

/* Button styles */
.button-primary {
  background-color: var(--teal);
  color: white;
  font-weight: 600;
  padding: 0.6rem 1.2rem;
  border-radius: var(--radius);
  transition: background-color 0.2s ease;
}
.button-primary:hover {
  background-color: hsl(174, 100%, 35%);
}

/* Contact Modal Enhancements */
.modal-container {
  background-color: rgba(255, 255, 255, 0.92); /* nearly solid but still elegant */
  backdrop-filter: blur(10px) saturate(150%);
  border-radius: 0.85rem;
  padding: 1.5rem;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
}

/* Darker overlay for better contrast */
.modal-overlay {
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(3px);
}

/* Dialog title */
.modal-title {
  text-align: center;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--teal);
}

/* Subtitle text */
.modal-subtitle {
  text-align: center;
  font-size: 0.95rem;
  color: rgba(0, 0, 0, 0.65);
  margin-bottom: 1rem;
}

/* Buttons */
.button-primary {
  background-color: var(--teal);
  color: white;
  font-weight: 600;
  padding: 0.75rem 1rem;
  border-radius: 0.6rem;
  transition: background-color 0.2s ease, transform 0.15s ease;
}
.button-primary:hover {
  background-color: hsl(174, 100%, 35%);
  transform: translateY(-2px);
}

.button-outline {
  border: 2px solid var(--teal);
  color: var(--teal);
  background: transparent;
  padding: 0.75rem 1rem;
  font-weight: 500;
  border-radius: 0.6rem;
  transition: all 0.2s ease;
}
.button-outline:hover {
  background-color: var(--teal);
  color: white;
}
